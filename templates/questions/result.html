{% extends 'questions/base.html' %}
{% load static %}
{% block content %}
<div class="quiz-result-card quiz-result-container">
    <h1>Natijalar</h1>
    <p>Umumiy savollar soni: {{ total_questions }}</p>
    <p>To'g'ri javoblar: {{ correct_answers }}</p>
    <p>Noto'g'ri javoblar: {{ incorrect_answers }}</p>
    <p>Ball: {{ score }}%</p>
    <div class="quiz-button-container">
        <a href="{% url 'question-list-by-subject' slug=slug %}" class="quiz-button">Yana test ishlash</a>
        <a href="{% url 'subject_list' %}" class="quiz-button">Fanlar ro'yxatini ko'rish</a>
    </div>
</div>

<div class="quiz-questions-container">
    <h2>Barcha savollar:</h2>
    {% for question in all_questions %}
    <div class="quiz-card {% if question.correct %}correct{% else %}incorrect{% endif %}">
        <h3>{{ forloop.counter }}. Savol:</h3>
        <p>{{ question.text }}</p>
        <ul class="quiz-options">
            <li>
                <span class="quiz-selected-option {% if question.correct %}correct{% else %}incorrect{% endif %}">
                    Sizning javobingiz: {{ question.selected_option }}
                </span>
            </li>
            <li>
                <span class="quiz-correct-answer">
                    To'g'ri javob: {{ question.correct_option }}
                </span>
            </li>
        </ul>
        {% if question.correct %}
        <p class="quiz-correct-answer-label">Barakalla! To'g'ri javob berdingiz.</p>
        {% else %}
        <p class="quiz-incorrect-answer-label">Xato javob berdingiz. E’tiborliroq bo‘ling!</p>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% endblock content %}
